import{a as d}from"./chunk-HEZBKCVY.js";import{B as l,c as o,y as u}from"./chunk-KU4YNCMP.js";import"./chunk-6AF7U7KC.js";import{c as p,l as a}from"./chunk-QPBR7IA7.js";import{fb as i,lc as s,ld as c,ob as m}from"./chunk-L5V4HGA2.js";import"./chunk-Q7L6LLAK.js";var x=(()=>{class r{constructor(e,t,n){this.fb=e,this.jobService=t,this.router=n,this.customers=[],this.itemTypes=["laptop","desktop","printer","monitor","phone","tablet","other"],this.minDate=new Date().toISOString().split("T")[0],this.initializeForm(),this.loadCustomers()}initializeForm(){this.jobForm=this.fb.group({user_id:["",o.required],item_type:["",o.required],problem_description:["",[o.required,o.minLength(10)]],estimated_delivery:["",o.required],estimated_price:["",[o.required,o.min(0)]]})}loadCustomers(){this.jobService.getCustomers().subscribe({next:e=>{this.customers=e.records||e},error:e=>{console.error("Error loading customers:",e)}})}onSubmit(){this.jobForm.valid&&this.jobService.createJob(this.jobForm.value).subscribe({next:()=>{alert("Job created successfully!"),this.router.navigate(["/jobs"])},error:e=>{console.error("Error creating job:",e),alert("Error creating job. Please try again.")}})}static{this.\u0275fac=function(t){return new(t||r)(i(u),i(d),i(a))}}static{this.\u0275cmp=m({type:r,selectors:[["app-new-job"]],decls:1,vars:0,template:function(t,n){t&1&&s(0,"uuu")},dependencies:[l,c,p],encapsulation:2})}}return r})();export{x as NewJobComponent};
